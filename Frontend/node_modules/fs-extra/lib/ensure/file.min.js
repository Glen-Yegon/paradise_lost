"use strict";const u=require("universalify").fromPromise,path=require("path"),fs=require("../fs"),mkdir=require("../mkdirs");async function createFile(e){let t;try{t=await fs.stat(e)}catch{}if(t&&t.isFile())return;const i=path.dirname(e);let r=null;try{r=await fs.stat(i)}catch(t){if("ENOENT"===t.code)return await mkdir.mkdirs(i),void await fs.writeFile(e,"");throw t}r.isDirectory()?await fs.writeFile(e,""):await fs.readdir(i)}function createFileSync(e){let t;try{t=fs.statSync(e)}catch{}if(t&&t.isFile())return;const i=path.dirname(e);try{fs.statSync(i).isDirectory()||fs.readdirSync(i)}catch(e){if(!e||"ENOENT"!==e.code)throw e;mkdir.mkdirsSync(i)}fs.writeFileSync(e,"")}module.exports={createFile:u(createFile),createFileSync:createFileSync};