"use strict";const u=require("universalify").fromCallback,fs=require("graceful-fs"),api=["access","appendFile","chmod","chown","close","copyFile","cp","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","lutimes","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof fs[e]);Object.assign(exports,fs),api.forEach(e=>{exports[e]=u(fs[e])}),exports.exists=function(e,t){return"function"==typeof t?fs.exists(e,t):new Promise(t=>fs.exists(e,t))},exports.read=function(e,t,r,n,s,i){return"function"==typeof i?fs.read(e,t,r,n,s,i):new Promise((i,f)=>{fs.read(e,t,r,n,s,(e,t,r)=>{if(e)return f(e);i({bytesRead:t,buffer:r})})})},exports.write=function(e,t,...r){return"function"==typeof r[r.length-1]?fs.write(e,t,...r):new Promise((n,s)=>{fs.write(e,t,...r,(e,t,r)=>{if(e)return s(e);n({bytesWritten:t,buffer:r})})})},exports.readv=function(e,t,...r){return"function"==typeof r[r.length-1]?fs.readv(e,t,...r):new Promise((n,s)=>{fs.readv(e,t,...r,(e,t,r)=>{if(e)return s(e);n({bytesRead:t,buffers:r})})})},exports.writev=function(e,t,...r){return"function"==typeof r[r.length-1]?fs.writev(e,t,...r):new Promise((n,s)=>{fs.writev(e,t,...r,(e,t,r)=>{if(e)return s(e);n({bytesWritten:t,buffers:r})})})},"function"==typeof fs.realpath.native?exports.realpath.native=u(fs.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003");