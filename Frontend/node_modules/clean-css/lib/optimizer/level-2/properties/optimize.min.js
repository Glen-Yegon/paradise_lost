var mergeIntoShorthands=require("./merge-into-shorthands"),overrideProperties=require("./override-properties"),populateComponents=require("./populate-components"),restoreWithComponents=require("../restore-with-components"),wrapForOptimizing=require("../../wrap-for-optimizing").all,removeUnused=require("../../remove-unused"),restoreFromOptimizing=require("../../restore-from-optimizing"),OptimizationLevel=require("../../../options/optimization-level").OptimizationLevel;function optimizeProperties(e,r,o,i){var t,p,n,s=i.options.level[OptimizationLevel.Two],m=wrapForOptimizing(e,s.skipProperties);for(populateComponents(m,i.validator,i.warnings),p=0,n=m.length;p<n;p++)(t=m[p]).block&&optimizeProperties(t.value[0][1],r,o,i);o&&s.mergeIntoShorthands&&mergeIntoShorthands(m,i.validator),r&&s.overrideProperties&&overrideProperties(m,o,i.options.compatibility,i.validator),restoreFromOptimizing(m,restoreWithComponents),removeUnused(m)}module.exports=optimizeProperties;