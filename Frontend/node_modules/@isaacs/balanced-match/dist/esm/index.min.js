export const balanced=(e,n,t)=>{const l=e instanceof RegExp?maybeMatch(e,t):e,o=n instanceof RegExp?maybeMatch(n,t):n,c=null!==l&&null!=o&&range(l,o,t);return c&&{start:c[0],end:c[1],pre:t.slice(0,c[0]),body:t.slice(c[0]+l.length,c[1]),post:t.slice(c[1]+o.length)}};const maybeMatch=(e,n)=>{const t=n.match(e);return t?t[0]:null};export const range=(e,n,t)=>{let l,o,c,i,s,r=t.indexOf(e),a=t.indexOf(n,r+1),f=r;if(r>=0&&a>0){if(e===n)return[r,a];for(l=[],c=t.length;f>=0&&!s;){if(f===r)l.push(f),r=t.indexOf(e,f+1);else if(1===l.length){const e=l.pop();void 0!==e&&(s=[e,a])}else o=l.pop(),void 0!==o&&o<c&&(c=o,i=a),a=t.indexOf(n,f+1);f=r<a&&r>=0?r:a}l.length&&void 0!==i&&(s=[c,i])}return s};